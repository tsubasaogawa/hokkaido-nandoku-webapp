# Feature Specification: 北海道難読地名クイズ

**Feature Branch**: `001-hokkaido-nandoku-quiz`  
**Created**: 2025-11-07
**Status**: Draft  
**Input**: User description: "Python + AWS Lambda (Function URLs) を利用した Web アプリケーションを作りたい。ユーザーは画面にアクセスすると、北海道の難読地名が表示され、4 択のうちから正解となる読み方 (ひらがな) を選ぶ。正解なら正解と表示し、不正解なら正解の答えを表示する。バックエンドとして https://github.com/tsubasaogawa/hokkaido-nandoku-api を利用し、API のエンドポイントは環境変数 NANDOKU_API_ENDPOINT から注入できるようにする。"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - クイズをプレイする (Priority: P1)

ユーザーはウェブサイトにアクセスし、表示された北海道の難読地名クイズに挑戦する。4つの選択肢から正しい読み方を選ぶと、すぐに正解か不正解かが表示される。

**Why this priority**: この機能はアプリケーションの最も中心的な価値であり、ユーザーが最初に体験する主要な機能であるため。

**Independent Test**: ユーザーはクイズページにアクセスし、問題に回答して結果を確認できる。この一連の流れが完了すれば、機能のコア部分はテスト可能である。

**Acceptance Scenarios**:

1. **Given** ユーザーがクイズページにアクセスしたとき, **When** ページに難読地名の問題と4つの選択肢が表示され, **Then** ユーザーは選択肢の中から1つだけ選ぶことができる。
2. **Given** ユーザーが選択肢を選んだとき, **When** 正解の選択肢を選び, **Then** 「正解」というメッセージが表示される。
3. **Given** ユーザーが選択肢を選んだとき, **When** 不正解の選択肢を選び, **Then** 「不正解」というメッセージと正しい答えが表示される。

### Edge Cases

- 外部APIからクイズデータを取得できない場合、エラーメッセージを表示する。
- ユーザーが回答を選択せずに次の問題へ進もうとした場合、選択を促すメッセージを表示する。

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: システムは、単一の難読地名と4つの読み方の選択肢（うち1つが正解）を含むクイズをユーザーに提示しなければならない。
- **FR-002**: ユーザーは、提示された4つの選択肢の中から1つだけ回答として選択できる必要がある。
- **FR-003**: ユーザーが回答を選択した後、システムは即座にそれが正解か不正解かを示さなければならない。
- **FR-004**: ユーザーの回答が不正解だった場合、システムは正解の読み方を提示しなければならない。
- **FR-005**: クイズのデータ（地名、正解）は、外部のエンドポイントから取得される必要がある。
- **FR-006**: クイズのデータ（不正解）は、システムが生成する必要がある。

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: ユーザーの95%が、ページにアクセスしてから30秒以内に最初のクイズに回答を完了できる。
- **SC-002**: ユーザーが回答を選択してから、結果が表示されるまでの時間は1秒未満である。
- **SC-003**: ユーザーアンケートで、クイズの楽しさや使いやすさについて80%以上が「満足」または「大変満足」と評価する。